<!DOCTYPE html>
<html>
	<head>
		<title>Email Data Point Retriever</title>
		<link rel="stylesheet" href="retriever.css">
		<script src='retriever.js' type='text/javascript'></script>
		<script type='text/javascript'>
			function collectData() {
				showLoading();
			}
		</script>
	</head>
	
	<body>
		<div class="center" id="retriever">
			<h1>Email Data Point Retriever</h1>
			<p>
				This tool collects anonymized email data for research purposes.
				We are working to study different reply rates and how we can predict when threads will receive a reply.
				Thank you for participating
			</p>
			<p>
				After you retrieve your data, 
				you will be able to modify and confirm what is stored by the researchers to ensure it is properly anonymized.
			</p>
			<div class='section-border'>
			<div class='section-label'><strong>Credentials</strong></div>
			<div id="retriever-form">
				<table>
					<tr>
						<td>IMAP Server</td>
						<td class='email-input'><select>
								<option>imap.gmail.com</option>
						</select></td>
					</tr>
					<tr>
						<td>SMTP Server</td>
						<td class='email-input'><select>
								<option>smtp.gmail.com</option>
						</select></td>
					</tr>
					<tr>
						<td>Email or Username</td>
						<td class='email-input'><input></input></td>
					</tr>
					<tr>
						<td>Password</td>
						<td class='email-input'><input type="password"></input></td>
					</tr>
				</table>
				<div class='section-border' style='border-width: 0px'>
					<strong>Collection Settings</strong>
					<table class='settings'>
					<tr>
						<td>
						Max messages:
						<input class='setting short-input' type="number" id="messages" min="1" value="2000" onclick='updateDepthCounts()'>
						</td>
						
						<td>
						Max threads:
						<input class='setting short-input' type="number" id="threads" min="1" value="400" onclick='updateDepthCounts()'>
						</td>
					</tr>
					</table>
					<div class='settings'>
						<input class='setting checkbox' type="checkbox" id="subjects" value="include">
						Include subjects
					</div>
					<div class='settings'>
						<input class='setting checkbox' type="checkbox" id="addresses" value="include">
						Include email addresses
					</div>
					<table class='settings'>
					<tr>
						<td>
						<input class='setting checkbox' type="checkbox" id="numAttach" value="include" onclick='switchFileNamesEnabled()'>
						Include number of attachments
						</td>
						
						<td>
						<input class='setting checkbox' type="checkbox" id="fileNames" value="include" disabled='true'>
						<span id='fileNamesLabel'>Include file names of attachments</span>
						</td>
					</tr>
					</table>
				</div>
				<div class="collector-button">
					<input type="submit" value="Start collecting data" onclick="collectData()"/>
				</div>
			</div>
		</div>
		</div>
		